<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orikai Store</title>
  <link rel="stylesheet" href="style.css" />

  <style>
    /* ===== ESTILOS DO CADASTRO DE PRODUTOS ===== */
    .cadastro-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      padding: 60px 10%;
      background: #f5f5f5;
    }

    .cadastro-box {
      width: 420px;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      border: 1px solid #ddd;
    }

    .cadastro-box h1 {
      text-align: center;
      color: #111;
      margin-bottom: 25px;
      font-size: 1.4rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .cadastro-box input[type="text"] {
      width: 100%;
      padding: 12px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 15px;
      background: #fafafa;
      color: #222;
      transition: 0.3s ease;
    }

    .cadastro-box input[type="text"]:focus {
      border-color: #000;
      background: #fff;
      outline: none;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
    }

    .cadastro-box input[type="submit"] {
      display: inline-block;
      width: 100%;
      padding: 12px;
      background: #000;
      border: none;
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 12px;
      transition: 0.3s ease;
    }

    .cadastro-box input[type="submit"]:hover {
      background: #333;
      transform: translateY(-2px);
    }

    #buscarProduto { background: #222; }
    #buscarProduto:hover { background: #444; }
    #atualizarProduto { background: #555; }
    #atualizarProduto:hover { background: #777; }
    #deletarProduto { background: #000; border: 1px solid #444; }
    #deletarProduto:hover { background: #111; }

    @media (max-width: 900px) {
      .cadastro-container {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="logo">Orikai Store</div>
    <ul class="menu">
      <li><a href="#camisas">Camisas</a></li>
      <li><a href="#cal√ßas">Cal√ßas</a></li>
      <li><a href="#Botas">Botas</a></li>
      <li><a href="#cadastro">Cadastro</a></li>
    </ul>

    <!-- Barra de busca -->
    <form id="search-form" class="search-bar">
      <input type="text" id="search-input" placeholder="Buscar produtos..." />
      <button type="submit">üîç</button>
    </form>
    <script>
      document.getElementById("search-form").addEventListener("submit", function (e) {
        e.preventDefault();
        const termo = document.getElementById("search-input").value.toLowerCase();
        const produtos = document.querySelectorAll(".produto");
        produtos.forEach((produto) => {
          const nome = produto.querySelector("p").textContent.toLowerCase();
          produto.style.display = nome.includes(termo) ? "block" : "none";
        });
      });
    </script>
  </nav>

  <!-- SE√á√ÉO DE PRODUTOS EXISTENTES -->
  <section id="produtos">
    <h2>PRODUTOS</h2>
    <!-- aqui ficam as categorias de camisas, cal√ßas e botas (j√° existentes no seu c√≥digo) -->
    <!-- ... -->
  </section>

  <!-- NOVA SE√á√ÉO DE CADASTRO COM FIREBASE -->
  <section id="cadastro" class="cadastro-container">
    <!-- CADASTRO -->
    <div class="cadastro-box">
      <h1>Cadastro de Produtos</h1>
      <input type="text" id="codigo" placeholder="C√≥digo" required>
      <input type="text" id="produto" placeholder="Nome do Produto" required>
      <input type="text" id="categoria" placeholder="Categoria" required>
      <input type="text" id="quantidade" placeholder="Quantidade" required>
      <input type="text" id="valor" placeholder="Valor do Produto" required>
      <input id="cadastrarProduto" type="submit" value="Cadastrar Produto">
    </div>

    <!-- BUSCA/ATUALIZA√á√ÉO -->
    <div class="cadastro-box">
      <h1>Buscar / Atualizar Produto</h1>
      <input type="text" id="idProduto" placeholder="C√≥digo para buscar" required>
      <input id="buscarProduto" type="submit" value="Buscar Produto">
      <input type="text" id="dadoProduto" placeholder="Produto">
      <input type="text" id="dadoCategoria" placeholder="Categoria">
      <input type="text" id="dadoQuantidade" placeholder="Quantidade">
      <input type="text" id="dadoValor" placeholder="Valor do Produto">
      <input id="atualizarProduto" type="submit" value="Atualizar Produto">
      <input id="deletarProduto" type="submit" value="Deletar Produto">
    </div>
  </section>

  <!-- Firebase CDN + Script -->
  <script type="module">
    // IMPORT DO FIREBASE 10+
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getDatabase, ref, child, get, set, update, remove } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";

    // SUA CONFIG DO FIREBASE
    const firebaseConfig = {
      apiKey: "AIzaSyBzFTTUqOlJy7YrC2en-jsHMZIhQ1EuecE",
      authDomain: "orikai-produto-e-clientes.firebaseapp.com",
      databaseURL: "https://orikai-produto-e-clientes-default-rtdb.firebaseio.com",
      projectId: "orikai-produto-e-clientes",
      storageBucket: "orikai-produto-e-clientes.firebasestorage.app",
      messagingSenderId: "731596279385",
      appId: "1:731596279385:web:3d605c71286a5b6eb6ab48",
      measurementId: "G-91S4TJP737"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // PEGAR ELEMENTOS
    const codigo = document.getElementById('codigo');
    const produto = document.getElementById('produto');
    const categoria = document.getElementById('categoria');
    const quantidade = document.getElementById('quantidade');
    const valor = document.getElementById('valor');

    const idProduto = document.getElementById('idProduto');
    const dadoProduto = document.getElementById('dadoProduto');
    const dadoCategoria = document.getElementById('dadoCategoria');
    const dadoQuantidade = document.getElementById('dadoQuantidade');
    const dadoValor = document.getElementById('dadoValor');

    const cadastrarProduto = document.getElementById('cadastrarProduto');
    const buscarProduto = document.getElementById('buscarProduto');
    const atualizarProduto = document.getElementById('atualizarProduto');
    const deletarProduto = document.getElementById('deletarProduto');

    // FUN√á√ÉO CADASTRAR
    function AddProduto(){
      set(ref(db,'Produto/'+codigo.value),{
        codigo: codigo.value,
        produto: produto.value,
        categoria: categoria.value,
        quantidade: quantidade.value,
        valor: valor.value
      }).then(()=>{
        codigo.value = ''
        produto.value=''
        categoria.value=''
        quantidade.value=''
        valor.value=''
        alert("‚úÖ Produto Cadastrado!");
      }).catch((error)=>{
        console.log(error);
        alert('‚ùå Produto N√£o Cadastrado!');
      })
    }

    // FUN√á√ÉO PESQUISAR
    function PesquisarProduto(){
      const dbRef = ref(db);
      get(child(dbRef,'Produto/'+idProduto.value)).then((snapshot)=>{
        if(snapshot.exists()){
          dadoProduto.value = snapshot.val().produto;
          dadoCategoria.value = snapshot.val().categoria;
          dadoQuantidade.value = snapshot.val().quantidade;
          dadoValor.value = snapshot.val().valor;
          alert('‚úÖ Produto Localizado!')
        }else{
          alert("‚ùå O produto n√£o existe");
        }
      }).catch((e)=>{
        alert('‚ùå Algo deu errado!')
        console.log(e)
      })
    }

    // FUN√á√ÉO ATUALIZAR
    function AtualizarProdutos(){
      update(ref(db,'Produto/'+idProduto.value),{
        produto:dadoProduto.value,
        categoria:dadoCategoria.value,
        quantidade:dadoQuantidade.value,
        valor:dadoValor.value
      }).then(()=>{
        alert('‚úÖ Produto Atualizado!');
      }).catch((e)=>{
        alert('‚ùå Algo deu errado!')
        console.log(e)
      })
    }

    // FUN√á√ÉO DELETAR
    function DeletarProdutos(){
      remove(ref(db,'Produto/'+idProduto.value))
      .then(()=>{
        idProduto.value=''
        dadoProduto.value=''
        dadoCategoria.value=''
        dadoQuantidade.value=''
        dadoValor.value=''
        alert('üóëÔ∏è Produto Deletado!')
      })
    }

    // EVENTOS DOS BOT√ïES
    cadastrarProduto.addEventListener('click',AddProduto);
    buscarProduto.addEventListener('click',PesquisarProduto);
    atualizarProduto.addEventListener('click',AtualizarProdutos);
    deletarProduto.addEventListener('click',DeletarProdutos);
  </script>
</body>
</html>
